/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,once){if(once('drupal-dialog-deprecation-listener','html').length){const eventSpecial={handle($event){const $element=$($event.target);const event=$event.originalEvent;const dialog=event.dialog;const dialogArguments=[$event,dialog,$element,event?.settings];$event.handleObj.handler.apply(this,dialogArguments);}};$.event.special['dialog:beforecreate']=eventSpecial;$.event.special['dialog:aftercreate']=eventSpecial;$.event.special['dialog:beforeclose']=eventSpecial;$.event.special['dialog:afterclose']=eventSpecial;const listenDialogEvent=(event)=>{const windowEvents=$._data(window,'events');const isWindowHasDialogListener=windowEvents[event.type];if(isWindowHasDialogListener)Drupal.deprecationError({message:`jQuery event ${event.type} is deprecated in 10.3.0 and is removed from Drupal:12.0.0. See https://www.drupal.org/node/3422670`});};['dialog:beforecreate','dialog:aftercreate','dialog:beforeclose','dialog:afterclose'].forEach((e)=>window.addEventListener(e,listenDialogEvent));}})(jQuery,Drupal,once);;
class DrupalDialogEvent extends Event{constructor(type,dialog,settings=null){super(`dialog:${type}`,{bubbles:true});this.dialog=dialog;this.settings=settings;}}(function($,Drupal,drupalSettings,bodyScrollLock){drupalSettings.dialog={autoOpen:true,dialogClass:'',buttonClass:'button',buttonPrimaryClass:'button--primary',close(event){Drupal.dialog(event.target).close();Drupal.detachBehaviors(event.target,null,'unload');}};Drupal.dialog=function(element,options){let undef;const $element=$(element);const domElement=$element.get(0);const dialog={open:false,returnValue:undef};function openDialog(settings){settings=$.extend({},drupalSettings.dialog,options,settings);const event=new DrupalDialogEvent('beforecreate',dialog,settings);domElement.dispatchEvent(event);$element.dialog(event.settings);dialog.open=true;if(event.settings.modal)bodyScrollLock.lock(domElement);domElement.dispatchEvent(new DrupalDialogEvent('aftercreate',dialog,event.settings));}function closeDialog(value){domElement.dispatchEvent(new DrupalDialogEvent('beforeclose',dialog));bodyScrollLock.clearBodyLocks();$element.dialog('close');dialog.returnValue=value;dialog.open=false;domElement.dispatchEvent(new DrupalDialogEvent('afterclose',dialog));}dialog.show=()=>{openDialog({modal:false});};dialog.showModal=()=>{openDialog({modal:true});};dialog.close=closeDialog;return dialog;};})(jQuery,Drupal,drupalSettings,bodyScrollLock);;
(function($,Drupal,drupalSettings,debounce,displace){drupalSettings.dialog=$.extend({autoResize:true,maxHeight:'95%'},drupalSettings.dialog);function resetPosition(options){const offsets=displace.offsets;const left=offsets.left-offsets.right;const top=offsets.top-offsets.bottom;const leftString=`${(left>0?'+':'-')+Math.abs(Math.round(left/2))}px`;const topString=`${(top>0?'+':'-')+Math.abs(Math.round(top/2))}px`;options.position={my:`center${left!==0?leftString:''} center${top!==0?topString:''}`,of:window};return options;}function resetSize(event){const positionOptions=['width','height','minWidth','minHeight','maxHeight','maxWidth','position'];let adjustedOptions={};let windowHeight=$(window).height();let option;let optionValue;let adjustedValue;for(let n=0;n<positionOptions.length;n++){option=positionOptions[n];optionValue=event.data.settings[option];if(optionValue)if(typeof optionValue==='string'&&optionValue.endsWith('%')&&/height/i.test(option)){windowHeight-=displace.offsets.top+displace.offsets.bottom;adjustedValue=parseInt(0.01*parseInt(optionValue,10)*windowHeight,10);if(option==='height'&&Math.round(event.data.$element.parent().outerHeight())<adjustedValue)adjustedValue='auto';adjustedOptions[option]=adjustedValue;}}if(!event.data.settings.modal)adjustedOptions=resetPosition(adjustedOptions);event.data.$element.dialog('option',adjustedOptions);event.data.$element?.get(0)?.dispatchEvent(new CustomEvent('dialogContentResize',{bubbles:true}));}window.addEventListener('dialog:aftercreate',(e)=>{const autoResize=debounce(resetSize,20);const $element=$(e.target);const {settings}=e;const eventData={settings,$element};if(settings.autoResize===true||settings.autoResize==='true'){const uiDialog=$element.dialog('option',{resizable:false,draggable:false}).dialog('widget');uiDialog[0].style.position='fixed';$(window).on('resize.dialogResize scroll.dialogResize',eventData,autoResize).trigger('resize.dialogResize');$(document).on('drupalViewportOffsetChange.dialogResize',eventData,autoResize);}});window.addEventListener('dialog:beforeclose',()=>{$(window).off('.dialogResize');$(document).off('.dialogResize');});})(jQuery,Drupal,drupalSettings,Drupal.debounce,Drupal.displace);;
(function($,{tabbable,isTabbable}){$.widget('ui.dialog',$.ui.dialog,{options:{buttonClass:'button',buttonPrimaryClass:'button--primary'},_createButtons(){const opts=this.options;let primaryIndex;let index;const il=opts.buttons.length;for(index=0;index<il;index++)if(opts.buttons[index].primary&&opts.buttons[index].primary===true){primaryIndex=index;delete opts.buttons[index].primary;break;}this._super();const $buttons=this.uiButtonSet.children().addClass(opts.buttonClass);if(typeof primaryIndex!=='undefined')$buttons.eq(index).addClass(opts.buttonPrimaryClass);},_focusTabbable(){let hasFocus=this._focusedElement?this._focusedElement.get(0):null;if(!hasFocus)hasFocus=this.element.find('[autofocus]').get(0);if(!hasFocus){const $elements=[this.element,this.uiDialogButtonPane];for(let i=0;i<$elements.length;i++){const element=$elements[i].get(0);if(element){const elementTabbable=tabbable(element);hasFocus=elementTabbable.length?elementTabbable[0]:null;}if(hasFocus)break;}}if(!hasFocus){const closeBtn=this.uiDialogTitlebarClose.get(0);hasFocus=closeBtn&&isTabbable(closeBtn)?closeBtn:null;}if(!hasFocus)hasFocus=this.uiDialog.get(0);$(hasFocus).eq(0).trigger('focus');}});})(jQuery,window.tabbable);;
(($)=>{$.widget('ui.dialog',$.ui.dialog,{_allowInteraction(event){if(event.target.classList===undefined)return this._super(event);return event.target.classList.contains('ck')||this._super(event);}});})(jQuery);;
(function($,Drupal,{focusable}){Drupal.behaviors.dialog={attach(context,settings){const $context=$(context);if(!$('#drupal-modal').length)$('<div id="drupal-modal" class="ui-front"></div>').hide().appendTo('body');const $dialog=$context.closest('.ui-dialog-content');if($dialog.length){if($dialog.dialog('option','drupalAutoButtons'))$dialog.trigger('dialogButtonsChange');setTimeout(function(){if(!$dialog[0].contains(document.activeElement)){$dialog.dialog('instance')._focusedElement=null;$dialog.dialog('instance')._focusTabbable();}},0);}const originalClose=settings.dialog.close;settings.dialog.close=function(event,...args){originalClose.apply(settings.dialog,[event,...args]);const $element=$(event.target);const ajaxContainer=$element.data('uiDialog')?$element.data('uiDialog').opener.closest('[data-drupal-ajax-container]'):[];if(ajaxContainer.length&&(document.activeElement===document.body||$(document.activeElement).not(':visible'))){const focusableChildren=focusable(ajaxContainer[0]);if(focusableChildren.length>0)setTimeout(()=>{focusableChildren[0].focus();},0);}$(event.target).remove();};},prepareDialogButtons($dialog){const buttons=[];const $buttons=$dialog.find('.form-actions input[type=submit], .form-actions a.button, .form-actions a.action-link');$buttons.each(function(){const $originalButton=$(this);this.style.display='none';buttons.push({text:$originalButton.html()||$originalButton.attr('value'),class:$originalButton.attr('class'),'data-once':$originalButton.data('once'),click(e){if($originalButton[0].tagName==='A')$originalButton[0].click();else $originalButton.trigger('mousedown').trigger('mouseup').trigger('click');e.preventDefault();}});});return buttons;}};Drupal.AjaxCommands.prototype.openDialog=function(ajax,response,status){if(!response.selector)return false;let $dialog=$(response.selector);if(!$dialog.length)$dialog=$(`<div id="${response.selector.replace(/^#/,'')}" class="ui-front"></div>`).appendTo('body');if(!ajax.wrapper)ajax.wrapper=$dialog.attr('id');response.command='insert';response.method='html';ajax.commands.insert(ajax,response,status);response.dialogOptions=response.dialogOptions||{};if(typeof response.dialogOptions.drupalAutoButtons==='undefined')response.dialogOptions.drupalAutoButtons=true;else if(response.dialogOptions.drupalAutoButtons==='false')response.dialogOptions.drupalAutoButtons=false;else response.dialogOptions.drupalAutoButtons=!!response.dialogOptions.drupalAutoButtons;if(!response.dialogOptions.buttons&&response.dialogOptions.drupalAutoButtons)response.dialogOptions.buttons=Drupal.behaviors.dialog.prepareDialogButtons($dialog);$dialog.on('dialogButtonsChange',()=>{const buttons=Drupal.behaviors.dialog.prepareDialogButtons($dialog);$dialog.dialog('option','buttons',buttons);});response.dialogOptions=response.dialogOptions||{};const dialog=Drupal.dialog($dialog.get(0),response.dialogOptions);if(response.dialogOptions.modal)dialog.showModal();else dialog.show();$dialog.parent().find('.ui-dialog-buttonset').addClass('form-actions');};Drupal.AjaxCommands.prototype.closeDialog=function(ajax,response,status){const $dialog=$(response.selector);if($dialog.length){Drupal.dialog($dialog.get(0)).close();if(!response.persist)$dialog.remove();}$dialog.off('dialogButtonsChange');};Drupal.AjaxCommands.prototype.setDialogOption=function(ajax,response,status){const $dialog=$(response.selector);if($dialog.length)$dialog.dialog('option',response.optionName,response.optionValue);};window.addEventListener('dialog:aftercreate',(event)=>{const $element=$(event.target);const dialog=event.dialog;$element.on('click.dialog','.dialog-cancel',(e)=>{dialog.close('cancel');e.preventDefault();e.stopPropagation();});});window.addEventListener('dialog:beforeclose',(e)=>{const $element=$(e.target);$element.off('.dialog');});Drupal.AjaxCommands.prototype.openModalDialogWithUrl=function(ajax,response){const dialogOptions=response.dialogOptions||{};const elementSettings={progress:{type:'throbber'},dialogType:'modal',dialog:dialogOptions,url:response.url,httpMethod:'GET'};Drupal.ajax(elementSettings).execute();};})(jQuery,Drupal,window.tabbable);;
(($,Drupal,debounce,dragula,once)=>{const idAttr='data-lpb-id';function attachUiElements($container,settings){const id=$container.attr('data-lpb-ui-id');const lpbBuilderSettings=settings.lpBuilder||{};const uiElements=lpbBuilderSettings.uiElements||{};const containerUiElements=uiElements[id]||[];Object.values(containerUiElements).forEach((uiElement)=>{const {element,method}=uiElement;$container[method]($(element).addClass('js-lpb-ui'));});}function repositionDialog(intervalId){const $dialogs=$('.lpb-dialog');if($dialogs.length===0){clearInterval(intervalId);return;}$dialogs.each((i,dialog)=>{const bounding=dialog.getBoundingClientRect();const viewPortHeight=window.innerHeight||document.documentElement.clientHeight;if(bounding.bottom>viewPortHeight){const $dialog=$('.ui-dialog-content',dialog);const height=viewPortHeight-200;$dialog.dialog('option','height',height);$dialog.css('overscroll-behavior','contain');if($dialog.data('lpOriginalHeight')!==height){$dialog.data('lpOriginalHeight',height);const bounding=dialog.getBoundingClientRect();const viewPortHeight=window.innerHeight||document.documentElement.clientHeight;if(bounding.bottom>viewPortHeight){const pos=$dialog.dialog('option','position');$dialog.dialog('option','position',pos);}}}});}function doReorderComponents($element){const id=$element.attr(idAttr);const order=$('.js-lpb-component',$element).get().map((item)=>{const $item=$(item);return {uuid:$item.attr('data-uuid'),parentUuid:$item.parents('.js-lpb-component').first().attr('data-uuid')||null,region:$item.parents('.js-lpb-region').first().attr('data-region')||null};});Drupal.ajax({url:`${drupalSettings.path.baseUrl}${drupalSettings.path.pathPrefix}layout-paragraphs-builder/${id}/reorder`,submit:{components:JSON.stringify(order)},error:()=>{}}).execute();}const reorderComponents=debounce(doReorderComponents);function acceptsErrors(settings,el,target,source,sibling){return Drupal._lpbMoveErrors.accepts.map((validator)=>validator.apply(null,[settings,el,target,source,sibling])).filter((errors)=>errors!==false&&errors!==undefined);}function movesErrors(settings,el,source,handle){return Drupal._lpbMoveErrors.moves.map((validator)=>validator.apply(null,[settings,el,source,handle])).filter((errors)=>errors!==false&&errors!==undefined);}function updateMoveButtons($element){const lpbBuilderElements=Array.from($element[0].querySelectorAll('.js-lpb-component-list, .js-lpb-region'));const lpbBuilderComponent=lpbBuilderElements.filter((el)=>el.querySelector('.js-lpb-component'));$element[0].querySelectorAll('.lpb-up, .lpb-down').forEach((el)=>{el.setAttribute('tabindex','0');});lpbBuilderComponent.forEach((el)=>{const components=Array.from(el.children).filter((n)=>n.classList.contains('js-lpb-component'));components[0].querySelector('.lpb-up')?.setAttribute('tabindex','-1');components[components.length-1].querySelector('.lpb-down')?.setAttribute('tabindex','-1');});}function hideEmptyRegionButtons($element){$element.find('.js-lpb-region').each((i,e)=>{const $e=$(e);if($e.find('.js-lpb-component').length===0)$e.find('.lpb-btn--add.center').css('display','block');else $e.find('.lpb-btn--add.center').css('display','none');});}function updateUi($element){reorderComponents($element);updateMoveButtons($element);hideEmptyRegionButtons($element);}function move($moveItem,direction){const $sibling=direction===1?$moveItem.nextAll('.js-lpb-component').first():$moveItem.prevAll('.js-lpb-component').first();const method=direction===1?'after':'before';const {scrollY}=window;const destScroll=scrollY+$sibling.outerHeight()*direction;if($sibling.length===0)return false;const animateProp=$sibling[0].getBoundingClientRect().top==$moveItem[0].getBoundingClientRect().top?'translateX':'translateY';const dimmensionProp=animateProp==='translateX'?'offsetWidth':'offsetHeight';const siblingDest=$moveItem[0][dimmensionProp]*direction*-1;const itemDest=$sibling[0][dimmensionProp]*direction;const distance=Math.abs(Math.max(siblingDest,itemDest));const duration=distance*.25;const siblingKeyframes=[{transform:`${animateProp}(0)`},{transform:`${animateProp}(${siblingDest}px)`}];const itemKeyframes=[{transform:`${animateProp}(0)`},{transform:`${animateProp}(${itemDest}px)`}];const timing={duration,iterations:1};const anim1=$moveItem[0].animate(itemKeyframes,timing);anim1.onfinish=()=>{$moveItem.css({transform:'none'});$sibling.css({transform:'none'});$sibling[method]($moveItem);$moveItem.closest(`[${idAttr}]`).trigger('lpb-component:move',[$moveItem.attr('data-uuid')]);};$sibling[0].animate(siblingKeyframes,timing);if(animateProp==='translateY')window.scrollTo({top:destScroll,behavior:'smooth'});}function nav($item,dir,settings){const $element=$item.closest(`[${idAttr}]`);$item.addClass('lpb-active-item');if(dir===-1)$('.js-lpb-region .lpb-btn--add.center, .lpb-layout:not(.lpb-active-item)',$element).before('<div class="lpb-shim"></div>');else{if(dir===1){$('.js-lpb-region',$element).prepend('<div class="lpb-shim"></div>');$('.lpb-layout:not(.lpb-active-item)',$element).after('<div class="lpb-shim"></div>');}}const targets=$('.js-lpb-component, .lpb-shim',$element).toArray().filter((i)=>!$.contains($item[0],i)).filter((i)=>i.className.indexOf('lpb-layout')===-1||i===$item[0]);const currentElement=$item[0];let pos=targets.indexOf(currentElement);while(targets[pos+dir]!==undefined&&acceptsErrors(settings,$item[0],targets[pos+dir].parentNode,null,$item.next().length?$item.next()[0]:null).length>0)pos+=dir;if(targets[pos+dir]!==undefined)$(targets[pos+dir])[dir===1?'after':'before']($item);$('.lpb-shim',$element).remove();$item.removeClass('lpb-active-item').focus();$item.closest(`[${idAttr}]`).trigger('lpb-component:move',[$item.attr('data-uuid')]);}function startNav($item){const $msg=$(`<div id="lpb-navigating-msg" class="lpb-tooltiptext lpb-tooltiptext--visible js-lpb-tooltiptext">${Drupal.t('Use arrow keys to move. Press Return or Tab when finished.')}</div>`);$item.closest('.lp-builder').addClass('is-navigating').find('.is-navigating').removeClass('is-navigating');$item.attr('aria-describedby','lpb-navigating-msg').addClass('is-navigating').prepend($msg);$item.before('<div class="lpb-navigating-placeholder"></div>');}function stopNav($item){$item.removeClass('is-navigating').attr('aria-describedby','').find('.js-lpb-tooltiptext').remove();$item.closest(`[${idAttr}]`).removeClass('is-navigating').find('.lpb-navigating-placeholder').remove();}function cancelNav($item){const $builder=$item.closest(`[${idAttr}]`);$builder.find('.lpb-navigating-placeholder').replaceWith($item);updateUi($builder);stopNav($item);}function preventLostChanges($element){const events=['lpb-component:insert.lpb','lpb-component:update.lpb','lpb-component:move.lpb','lpb-component:drop.lpb'].join(' ');$element.on(events,(e)=>{$(e.currentTarget).addClass('is_changed');});window.addEventListener('beforeunload',(e)=>{if($(`.is_changed[${idAttr}]`).length){e.preventDefault();e.returnValue='';}});$('.form-actions').find('input[type="submit"], a').click(()=>{$element.removeClass('is_changed');});}function attachEventListeners($element,settings){preventLostChanges($element);$element.on('click.lp-builder','.lpb-up',(e)=>{move($(e.target).closest('.js-lpb-component'),-1);return false;});$element.on('click.lp-builder','.lpb-down',(e)=>{move($(e.target).closest('.js-lpb-component'),1);return false;});$element.on('click.lp-builder','.js-lpb-component',(e)=>{$(e.currentTarget).focus();});$element.on('click.lp-builder','.lpb-drag',(e)=>{const $btn=$(e.currentTarget);startNav($btn.closest('.js-lpb-component'));});$(document).off('keydown');$(document).on('keydown',(e)=>{const $item=$('.js-lpb-component.is-navigating');if($item.length)switch(e.code){case 'ArrowUp':case 'ArrowLeft':nav($item,-1,settings);break;case 'ArrowDown':case 'ArrowRight':nav($item,1,settings);break;case 'Enter':case 'Tab':stopNav($item);break;case 'Escape':cancelNav($item);break;default:break;}});}function initDragAndDrop($element,settings){const containers=once('is-dragula-enabled','.js-lpb-component-list, .js-lpb-region',$element[0]);const drake=dragula(containers,{accepts:(el,target,source,sibling)=>acceptsErrors(settings,el,target,source,sibling).length===0,moves:(el,source,handle)=>movesErrors(settings,el,source,handle).length===0});drake.on('drop',(el)=>{const $el=$(el);if($el.prev().is('a'))$el.insertBefore($el.prev());$element.trigger('lpb-component:drop',[$el.attr('data-uuid')]);});drake.on('drag',(el)=>{$element.addClass('is-dragging');if(el.className.indexOf('lpb-layout')>-1)$element.addClass('is-dragging-layout');else $element.addClass('is-dragging-item');$element.trigger('lpb-component:drag',[$(el).attr('data-uuid')]);});drake.on('dragend',()=>{$element.removeClass('is-dragging').removeClass('is-dragging-layout').removeClass('is-dragging-item');});drake.on('over',(el,container)=>{$(container).addClass('drag-target');});drake.on('out',(el,container)=>{$(container).removeClass('drag-target');});return drake;}Drupal._lpbMoveErrors={'accepts':[],'moves':[]};Drupal.registerLpbMoveError=(f,c='accepts')=>{Drupal._lpbMoveErrors[c].push(f);};Drupal.registerLpbMoveError((settings,el,target)=>{if(el.classList.contains('lpb-layout')&&$(target).parents('.lpb-layout').length>settings.nesting_depth)return Drupal.t('Exceeds nesting depth of @depth.',{'@depth':settings.nesting_depth});});Drupal.registerLpbMoveError((settings,el,target)=>{if(settings.require_layouts)if(el.classList.contains('js-lpb-component')&&!el.classList.contains('lpb-layout')&&!target.classList.contains('js-lpb-region'))return Drupal.t('Components must be added inside sections.');});Drupal.registerLpbMoveError((settings,el,source,handle)=>{if(!handle.closest('.lpb-drag')&&handle.closest('.lpb-controls'))return 'Disable dragging for controls elements other than drag handle.';},'moves');Drupal.AjaxCommands.prototype.LayoutParagraphsEventCommand=(ajax,response)=>{const {layoutId,componentUuid,eventName}=response;const $element=$(`[data-lpb-id="${layoutId}"]`);$element.trigger(`lpb-${eventName}`,[componentUuid]);};function updateDialogButtons(context){const $lpDialog=$(context).closest('.ui-dialog-content');if(!$lpDialog)return;const buttons=[];const $buttons=$lpDialog.find('.layout-paragraphs-component-form > .form-actions input[type=submit], .layout-paragraphs-component-form > .form-actions a.button');if($buttons.length===0)return;$buttons.each((_i,el)=>{const $originalButton=$(el).css({display:'none'});buttons.push({text:$originalButton.html()||$originalButton.attr('value'),class:$originalButton.attr('class'),click(e){if($originalButton.is('a'))$originalButton[0].click();else{$originalButton.trigger('mousedown').trigger('mouseup').trigger('click');e.preventDefault();}}});});$lpDialog.dialog('option','buttons',buttons);}Drupal.behaviors.layoutParagraphsBuilder={attach:function attach(context,settings){const jsUiElements=once('lpb-ui-elements','[data-has-js-ui-element]');jsUiElements.forEach((el)=>{attachUiElements($(el),settings);});once('lpb-events','[data-lpb-id]').forEach((el)=>{$(el).on('lpb-builder:init.lpb lpb-component:insert.lpb lpb-component:update.lpb lpb-component:move.lpb lpb-component:drop.lpb lpb-component:delete.lpb',(e)=>{const $element=$(e.currentTarget);updateUi($element);});});once('lpb-enabled','[data-lpb-id].has-components').forEach((el)=>{const $element=$(el);const id=$element.attr(idAttr);const lpbSettings=settings.lpBuilder[id];$element.data('drake',initDragAndDrop($element,lpbSettings));attachEventListeners($element,lpbSettings);$element.trigger('lpb-builder:init');});once('is-dragula-enabled','.js-lpb-region').forEach((c)=>{const builderElement=c.closest('[data-lpb-id]');const drake=$(builderElement).data('drake');drake.containers.push(c);});if(jsUiElements.length)Drupal.attachBehaviors(context,settings);updateDialogButtons(context);}};let lpDialogInterval;const handleAfterDialogCreate=(event,dialog,$dialog)=>{const $element=$dialog||jQuery(event.target);if($element.attr('id').startsWith('lpb-dialog-')){updateDialogButtons($element);clearInterval(lpDialogInterval);lpDialogInterval=setInterval(repositionDialog.bind(null,lpDialogInterval),500);}};if(typeof DrupalDialogEvent==='undefined')$(window).on('dialog:aftercreate',handleAfterDialogCreate);else window.addEventListener('dialog:aftercreate',handleAfterDialogCreate);})(jQuery,Drupal,Drupal.debounce,dragula,once);;
(function($,Drupal){Drupal.behaviors.menuUiDetailsSummaries={attach(context){$(context).find('.menu-link-form').drupalSetSummary((context)=>{const $context=$(context);if($context.find('.js-form-item-menu-enabled input:checked').length)return Drupal.checkPlain($context.find('.js-form-item-menu-title input')[0].value);return Drupal.t('Not in menu');});}};Drupal.behaviors.menuUiLinkAutomaticTitle={attach(context){const $context=$(context);$context.find('.menu-link-form').each(function(){const $this=$(this);const $checkbox=$this.find('.js-form-item-menu-enabled input');const $linkTitle=$context.find('.js-form-item-menu-title input');const $title=$this.closest('form').find('.js-form-item-title-0-value input');if(!($checkbox.length&&$linkTitle.length&&$title.length))return;if($checkbox[0].checked&&$linkTitle[0].value.length)$linkTitle.data('menuLinkAutomaticTitleOverridden',true);$linkTitle.on('keyup',()=>{$linkTitle.data('menuLinkAutomaticTitleOverridden',true);});$checkbox.on('change',()=>{if($checkbox[0].checked){if(!$linkTitle.data('menuLinkAutomaticTitleOverridden'))$linkTitle[0].value=$title[0].value;}else{$linkTitle[0].value='';$linkTitle.removeData('menuLinkAutomaticTitleOverridden');}$checkbox.closest('.vertical-tabs-pane').trigger('summaryUpdated');$checkbox.trigger('formUpdated');});$title.on('keyup',()=>{if(!$linkTitle.data('menuLinkAutomaticTitleOverridden')&&$checkbox[0].checked){$linkTitle[0].value=$title[0].value;$linkTitle.trigger('formUpdated');}});});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.entityContentDetailsSummaries={attach(context){const $context=$(context);$context.find('.entity-content-form-revision-information').drupalSetSummary((context)=>{const $revisionContext=$(context);const revisionCheckbox=$revisionContext.find('.js-form-item-revision input');if((revisionCheckbox.length&&revisionCheckbox[0].checked)||(!revisionCheckbox.length&&$revisionContext.find('.js-form-item-revision-log textarea').length))return Drupal.t('New revision');return Drupal.t('No revision');});$context.find('details.entity-translation-options').drupalSetSummary((context)=>{const $translationContext=$(context);let translate;let $checkbox=$translationContext.find('.js-form-item-translation-translate input');if($checkbox.length)translate=$checkbox[0].checked?Drupal.t('Needs to be updated'):Drupal.t('Does not need to be updated');else{$checkbox=$translationContext.find('.js-form-item-translation-retranslate input');translate=$checkbox[0]?.checked?Drupal.t('Flag other translations as outdated'):Drupal.t('Do not flag other translations as outdated');}return translate;});}};})(jQuery,Drupal);;
(function($,Drupal,drupalSettings){Drupal.behaviors.nodeDetailsSummaries={attach(context){const $context=$(context);$context.find('.node-form-author').drupalSetSummary((context)=>{const nameElement=context.querySelector('.field--name-uid input');const name=nameElement&&nameElement.value;const dateElement=context.querySelector('.field--name-created input');const date=dateElement&&dateElement.value;if(name&&date)return Drupal.t('By @name on @date',{'@name':name,'@date':date});if(name)return Drupal.t('By @name',{'@name':name});if(date)return Drupal.t('Authored on @date',{'@date':date});});$context.find('.node-form-options').drupalSetSummary((context)=>{const $optionsContext=$(context);const values=[];if($optionsContext.find('input:checked').length){$optionsContext.find('input:checked').next('label').each(function(){values.push(Drupal.checkPlain(this.textContent.trim()));});return values.join(', ');}return Drupal.t('Not promoted');});}};})(jQuery,Drupal,drupalSettings);;
(function($,Drupal){Drupal.behaviors.pathDetailsSummaries={attach(context){$(context).find('.path-form').drupalSetSummary((context)=>{const pathElement=document.querySelector('.js-form-item-path-0-alias input');const path=pathElement&&pathElement.value;return path?Drupal.t('Alias: @alias',{'@alias':path}):Drupal.t('No alias');});}};})(jQuery,Drupal);;
(function($,Drupal,drupalSettings){const pathInfo=drupalSettings.path;const escapeAdminPath=sessionStorage.getItem('escapeAdminPath');const windowLocation=window.location;if(!pathInfo.currentPathIsAdmin&&!/destination=/.test(windowLocation.search))sessionStorage.setItem('escapeAdminPath',windowLocation);Drupal.behaviors.escapeAdmin={attach(){const toolbarEscape=once('escapeAdmin','[data-toolbar-escape-admin]');if(toolbarEscape.length&&pathInfo.currentPathIsAdmin&&escapeAdminPath!==null)$(toolbarEscape).attr('href',escapeAdminPath);}};})(jQuery,Drupal,drupalSettings);;
