/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,window){function TableResponsive(table){this.table=table;this.$table=$(table);this.showText=Drupal.t('Show all columns');this.hideText=Drupal.t('Hide lower priority columns');this.$headers=this.$table.find('th');this.$link=$('<button type="button" class="link tableresponsive-toggle"></button>').attr('title',Drupal.t('Show table cells that were hidden to make the table fit within a small screen.')).on('click',this.eventhandlerToggleColumns.bind(this));this.$table.before($('<div class="tableresponsive-toggle-columns"></div>').append(this.$link));$(window).on('resize.tableresponsive',this.eventhandlerEvaluateColumnVisibility.bind(this));}Drupal.behaviors.tableResponsive={attach(context,settings){once('tableresponsive','table.responsive-enabled',context).forEach((table)=>{TableResponsive.tables.push(new TableResponsive(table));});if(TableResponsive.tables.length)$(window).trigger('resize.tableresponsive');}};$.extend(TableResponsive,{tables:[]});$.extend(TableResponsive.prototype,{eventhandlerEvaluateColumnVisibility(e){const pegged=parseInt(this.$link.data('pegged'),10);const hiddenLength=this.$headers.filter('.priority-medium:hidden, .priority-low:hidden').length;if(hiddenLength>0){this.$link.show();this.$link[0].textContent=this.showText;}if(!pegged&&hiddenLength===0){this.$link.hide();this.$link[0].textContent=this.hideText;}},eventhandlerToggleColumns(e){e.preventDefault();const self=this;const $hiddenHeaders=this.$headers.filter('.priority-medium:hidden, .priority-low:hidden');this.$revealedCells=this.$revealedCells||$();if($hiddenHeaders.length>0){$hiddenHeaders.each(function(index,element){const $header=$(this);const position=$header.prevAll('th').length;self.$table.find('tbody tr').each(function(){const $cells=$(this).find('td').eq(position);$cells.show();self.$revealedCells=$().add(self.$revealedCells).add($cells);});$header.show();self.$revealedCells=$().add(self.$revealedCells).add($header);});this.$link[0].textContent=this.hideText;this.$link.data('pegged',1);}else{this.$revealedCells.hide();this.$revealedCells.each(function(index,element){const $cell=$(this);const properties=$cell.attr('style').split(';');const newProps=[];const match=/^display\s*:\s*none$/;for(let i=0;i<properties.length;i++){const prop=properties[i];prop.trim();const isDisplayNone=match.exec(prop);if(isDisplayNone)continue;newProps.push(prop);}$cell.attr('style',newProps.join(';'));});this.$link[0].textContent=this.showText;this.$link.data('pegged',0);$(window).trigger('resize.tableresponsive');}}});Drupal.TableResponsive=TableResponsive;})(jQuery,Drupal,window);;
(function($,Drupal){Drupal.behaviors.layoutParagraphsComponentForm={attach:function attach(context){$('[name="layout_paragraphs[layout]"]').on('change',(e)=>{$('.lpb-btn--save').prop('disabled',e.currentTarget.disabled);});$('.lpb-btn--save').prop('disabled',false);}};})(jQuery,Drupal);;
(function(){'use strict';((Drupal,once)=>{Drupal.behaviors.mercuryEditorComponentForm={attach:function(context,_settings){if(context.classList.contains('layout-paragraphs-component-form')){const layoutSelect=context.querySelector('.layout-select input[type="radio"]:checked');if(layoutSelect)layoutSelect.focus();}const form=once('me-component-form','mercury-dialog .layout-paragraphs-component-form')[0];if(form)form.closest('mercury-dialog').addEventListener('open',(e)=>{const dialog=e.target.shadowRoot.querySelector('dialog');const w=dialog.offsetWidth+'px';const h=dialog.offsetHeight+'px';e.target.style.setProperty('--me-dialog-width-default',w);e.target.style.setProperty('--me-dialog-height-default',h);});}};})(Drupal,once);})();;
(function($,Drupal){function DropButton(dropbutton,settings){const options=$.extend({title:Drupal.t('List additional actions')},settings);const $dropbutton=$(dropbutton);this.$dropbutton=$dropbutton;this.$list=$dropbutton.find('.dropbutton');this.$actions=this.$list.find('li').addClass('dropbutton-action');if(this.$actions.length>1){const $primary=this.$actions.slice(0,1);const $secondary=this.$actions.slice(1);$secondary.addClass('secondary-action');$primary.after(Drupal.theme('dropbuttonToggle',options));this.$dropbutton.addClass('dropbutton-multiple').on({'mouseleave.dropbutton':this.hoverOut.bind(this),'mouseenter.dropbutton':this.hoverIn.bind(this),'focusout.dropbutton':this.focusOut.bind(this),'focusin.dropbutton':this.focusIn.bind(this)});}else this.$dropbutton.addClass('dropbutton-single');}function dropbuttonClickHandler(e){e.preventDefault();$(e.target).closest('.dropbutton-wrapper').toggleClass('open');}Drupal.behaviors.dropButton={attach(context,settings){const dropbuttons=once('dropbutton','.dropbutton-wrapper',context);if(dropbuttons.length){const body=once('dropbutton-click','body');if(body.length)$(body).on('click','.dropbutton-toggle',dropbuttonClickHandler);dropbuttons.forEach((dropbutton)=>{DropButton.dropbuttons.push(new DropButton(dropbutton,settings.dropbutton));});}}};$.extend(DropButton,{dropbuttons:[]});$.extend(DropButton.prototype,{toggle(show){const isBool=typeof show==='boolean';show=isBool?show:!this.$dropbutton.hasClass('open');this.$dropbutton.toggleClass('open',show);},hoverIn(){if(this.timerID)window.clearTimeout(this.timerID);},hoverOut(){this.timerID=window.setTimeout(this.close.bind(this),500);},open(){this.toggle(true);},close(){this.toggle(false);},focusOut(e){this.hoverOut.call(this,e);},focusIn(e){this.hoverIn.call(this,e);}});$.extend(Drupal.theme,{dropbuttonToggle(options){return `<li class="dropbutton-toggle"><button type="button"><span class="dropbutton-arrow"><span class="visually-hidden">${options.title}</span></span></button></li>`;}});Drupal.DropButton=DropButton;})(jQuery,Drupal);;
((Drupal)=>{Drupal.theme.dropbuttonToggle=(options)=>`<li class="dropbutton-toggle"><button type="button" class="dropbutton__toggle"><span class="visually-hidden">${options.title}</span></button></li>`;})(Drupal);;
(function($,Drupal,once){'use strict';var setUpTab=function($parWidget,$parTabs,$parContent,$parBehavior,$mainRegion){var $tabContent=$parTabs.find('.paragraphs_content_tab');var $tabBehavior=$parTabs.find('.paragraphs_behavior_tab');if($tabBehavior.hasClass('is-active')){$parWidget.removeClass('content-active').addClass('behavior-active');$tabContent.removeClass('is-active');$tabContent.find('a').removeClass('is-active');$tabBehavior.addClass('is-active');$tabBehavior.find('a').addClass('is-active');}else{if(!($mainRegion.hasClass('content-active'))&&!($mainRegion.hasClass('behavior-active'))){$tabContent.addClass('is-active');$tabContent.find('a').addClass('is-active');$parWidget.addClass('content-active');}$parTabs.removeClass('paragraphs-tabs-hide');if($parBehavior.length===0)$parTabs.addClass('paragraphs-tabs-hide');}};var switchActiveClass=function($parTabs,$clickedTab,$parWidget){var $clickedTabParent=$clickedTab.parent();$parTabs.find('li').removeClass('is-active');$parTabs.find('li').find('a').removeClass('is-active');$clickedTabParent.addClass('is-active');$clickedTabParent.find('a').addClass('is-active');$parWidget.removeClass('behavior-active content-active');if($clickedTabParent.hasClass('paragraphs_content_tab')){$parWidget.addClass('content-active');$parWidget.find('.paragraphs-add-wrapper').parent().removeClass('hidden');}else{$parWidget.addClass('behavior-active');$parWidget.find('.paragraphs-add-wrapper').parent().addClass('hidden');}};var markFirstVisibleParagraph=function(totalTopOffset){var $window=$(window);var bottomOfScreen=$window.scrollTop()+$window.height();var topOfScreen=$window.scrollTop()+totalTopOffset;var $firstParagraph=false;var $allParagraphs=$('.node-form .draggable');$allParagraphs.each(function(){var $this=$(this);var topOfElement=$this.offset().top;var bottomOfElement=$this.offset().top+$this.height();if((bottomOfScreen>topOfElement)&&(topOfScreen<bottomOfElement)){if($firstParagraph)if(topOfElement>topOfScreen){$firstParagraph=$this;return false;}else{if(topOfElement>bottomOfScreen)return false;}$firstParagraph=$this;if(topOfScreen<topOfElement)return false;}});if($firstParagraph){$('.first-paragraph').removeClass('first-paragraph');$firstParagraph.addClass('first-paragraph paragraph-hover');}return $firstParagraph;};Drupal.behaviors.bodyTabs={attach:function(context){var $topLevelParWidgets=$('.paragraphs-tabs-wrapper',context).filter(function(){return $(this).parents('.paragraphs-nested').length===0;});$(once('paragraphs-bodytabs',$topLevelParWidgets)).each(function(){var $parWidget=$(this);var $parTabs=$parWidget.find('.paragraphs-tabs');$parTabs.find('a').click(function(e){var toolbarHeight=$('.toolbar-tray-horizontal').outerHeight()||0;var adminToolbarsOffset=$('#toolbar-bar').outerHeight()+toolbarHeight;var totalTopOffset=adminToolbarsOffset+$('.paragraphs-tabs').outerHeight();var $firstParagraph;var currentParagraphOffset=0;var $window=$(window);$firstParagraph=markFirstVisibleParagraph(totalTopOffset);if($firstParagraph){currentParagraphOffset=$firstParagraph.offset().top-($window.scrollTop()+totalTopOffset);if(currentParagraphOffset<0)currentParagraphOffset=0;}e.preventDefault();switchActiveClass($parTabs,$(this),$parWidget);if($firstParagraph){$('html, body').scrollTop($firstParagraph.offset().top-totalTopOffset-currentParagraphOffset);setTimeout(function(){$('.first-paragraph').removeClass('paragraph-hover');},1000);}});});if($('.paragraphs-tabs-wrapper',context).length>0)$topLevelParWidgets.each(function(){var $parWidget=$(this);var $parTabs=$parWidget.find('.paragraphs-tabs');var $parContent=$parWidget.find('.paragraphs-content');var $parBehavior=$parWidget.find('.paragraphs-behavior');var $mainRegion=$parWidget.find('.layout-region-node-main');setUpTab($parWidget,$parTabs,$parContent,$parBehavior,$mainRegion);});}};})(jQuery,Drupal,once);;
(function(Drupal){'use strict';Drupal.AjaxCommands.prototype.scrollToElement=function(ajax,response,status){var resizeObserver=new ResizeObserver(function(){const elem=document.querySelector('[data-drupal-selector='+response.drupalElementSelector+']');if(elem)elem.scrollIntoView({block:'center'});});var parent=document.querySelector('[data-drupal-selector='+response.drupalParentSelector+']');resizeObserver.observe(parent);setTimeout(function(){resizeObserver.unobserve(parent);},500);};}(Drupal));;
