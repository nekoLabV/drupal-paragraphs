(function(e){"use strict";const c=e.defineComponent({name:"Countdown",props:{timestamp:{type:[Number,String,Date],required:!0},hintText:{type:String,default:"Day|Hour|Min|Sec"}},setup(o){const a="base-theme-countdown",n=e.ref(0),r=e.ref([]),f=t=>{let[i,s,l,m]=[0,0,0,0];t>0&&(i=Math.floor(t/60/60/24),s=Math.floor(t/60/60%24),l=Math.floor(t/60%60),m=Math.floor(t%60));const b=w=>String(w).padStart(2,"0");return[i,s,l,m].map(b)},h=()=>{const t=new Date(o.timestamp).getTime(),i=Date.now();n.value=Math.max(0,Math.floor((t-i)/1e3)),r.value=o.hintText.split("|").map(s=>s.trim())},_=e.computed(()=>f(n.value));return h(),e.onMounted(()=>{const t=setInterval(()=>{n.value<=0?clearInterval(t):n.value--},1e3);e.onUnmounted(()=>{clearInterval(t)})}),()=>{if(n.value<=0)return null;const t=_.value,i=r.value;return e.createVNode("div",{class:`${a}`},[e.createVNode("div",{class:`${a}__container`},[t.map((s,l)=>e.createVNode("div",{key:l,class:`${a}-item`},[e.createVNode("span",{class:`${a}-item__num`},[s]),e.createVNode("span",{class:`${a}-item__text`},[i[l]])]))])])}}}),u=Object.freeze(Object.defineProperty({__proto__:null,Countdown:c,createCountdownApp:(o,a)=>{if(!o)return console.error("需要提供有效的 DOM 元素"),null;const n=e.createApp(c,a),r=n.mount(o);return{unmount:()=>n.unmount(),instance:r}}},Symbol.toStringTag,{value:"Module"})),d=o=>{};(function(o,a){o.behaviors.timeline={attach:function(n,r){r.timeline}}})(Drupal,drupalSettings);const p={countdown:u,timeline:Object.freeze(Object.defineProperty({__proto__:null,initTimeline:d},Symbol.toStringTag,{value:"Module"}))};typeof window<"u"&&(window.baseThemeHooks=p),window.dispatchEvent(new Event("baseThemeHooks:load"))})(Vue);
//# sourceMappingURL=hooks.iife.js.map
