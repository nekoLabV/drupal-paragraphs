@use '../var';
@use '../mixins';

.base-theme-block {
  $types: (padding, margin);
  $container: #{&}__container;
  $background: #{&}__background;

  // display: grid;
  position: relative;
  color: var(--cmt-color);

  // padding, margin (sm, md, lg)
  @each $type in $types {
    @each $size in var.$sizes {
      @each $dir in var.$directions {
        &--#{$type}-#{$dir}-#{$size} {
          #{$type}-#{$dir}: var(--cm-container-#{$type}-#{$size});
        }
      }
    }
  }

  // align (start, center, end)
  @each $align in var.$aligns {
    &--block-align-#{$align} {
      place-items: $align;
      .layout__region {
        display: grid;
        place-items: $align;
      }
    }
  }

  &,
  *,
  ::after,
  ::before {
    box-sizing: border-box;
  }

  &__background {
    position: absolute;
    left: calc(50% - (100vw - var(--scrollbar-width, 0px)) / 2);
    right: calc(50% - (100vw - var(--scrollbar-width, 0px)) / 2);
    top: 0;
    bottom: 0;
    z-index: -1;
    background: var(--cmt-bg);
    pointer-events: none;
  }

  // border-radius (sm, md, lg)
  @each $size in var.$sizes {
    &--border-radius-#{$size} {
      border-radius: var(--cm-border-radius-#{$size});
      overflow: hidden;
    }
  }

  // col width (80%, 60%)
  &--col-width-80 {
    #{$container} {
      width: 80%;
      @include mixins.media-breakpoint-down(md) {
        width: 100%;
      }
    }
  }
  &--col-width-60 {
    #{$container} {
      width: 60%;
      @include mixins.media-breakpoint-down(md) {
        width: 100%;
      }
    }
  }

  &--light-image, &--dark-image {
    #{$background} {
      background-image: var(--background-image);
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
    }
  }
}
